let norn = require("../norn.js")

let app = norn({
    a: {
        initial: 0
        $rand() => Math.random()
    }
    b: {
        initial: 1
        $rand() => Math.random() + 1
    }
    count: {
        initial: 0
        "*.$rand"(count) => count + 1
    }
    count2: {
        initial: 0
        "*.$rand"(count) => count + 2
    }
})

app.subscribe((state) => console.log(state))

(() => {
    await app.actions."a.$rand"()
    await app.actions."b.$rand"()
    await app.actions."b.$rand"()
    await app.actions."a.$rand"()
})()
